<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열 다루기</title>

    <link rel="stylesheet" href="../assets/css/js06.css">
</head>
<body>

    <h3># javascript Array</h3>

    <div id="out"></div>

    <script>


    const coffees = ['Americano','Espresso','Cafe Latte','Cafee Mocha'];

    print(coffees);


    //join : 배열의 요소들을 원하는 구분자로 이어붙인 문자열을 반환한다.
    print('join result:' + coffees.join('/'));

    //pop : 배열의 맨 뒤 값을 꺼내면서 제거한다
        for(i = 0; i< 4; ++i){
            print('poped! ' + coffees.pop());
            print('liset :' +coffees);
        }

        //push : 배열의 맨 뒤에 값을 추가한다
        coffees.push('Green TEa');
        coffees.push('Red TEa');
        coffees.push('Americano','Americano','Americano','Americano');
        // coffees.push(['Cafe Latte','Cofe Mocha']);

        print(coffees);


        // shift 배열의 맨 앞의 값을 꺼내면서 제거한다

        for(i = 0; i<3; ++i){
            print('shift! ' + coffees.shift());
            print('after shift :' +coffees);
        }

        //unshift : 배열의 맨 앞에 값을 추가한다
        for(i = 0; i<5; ++i){
            coffees.unshift('Red Tea');
            coffees.unshift('Green Tea');
            coffees.unshift('Fanta');
            
        }
        print(coffees);

        //배열 요소 삭제하기

       delete coffees[2];
       delete coffees[7];
       delete coffees[13];

        print('after delte: '+coffees);
        let index = 0;
        for(coffee of coffees){
            print(`coffees[${index++}]: ${coffee}`);
            // print(`cofffee[${i}] : ${coffees[i]}`);
        }

        //slice : 원하는 만큼 자른 배열 인스턴스를 반환

        const slicedcoffee = coffees.slice(2,9);

        print('sliced :' + slicedcoffee);

        // sort : 해당 배열을 정렬한다 (내림차순)

        coffees.sort();
        print('sort :'+coffees);

        //자바의 Comparator 처럼 사용할수도 있다

        //자바 스크립트는 문자열 끼리 비교 연산이 가능하다
        print('apple'< 'banana');
        print('apple' < 'airplane');

        //localeCompare : 두 문자열을 사전순으로 비교하는 메서드
        print('apple'.localeCompare('apple'));

        // Comparator : -1 ,0 1을 리턴해야함 
        const myComparator = function(a,b){
            return b.localeCompare(a);
        }
        coffees.sort(myComparator);
        print('after comparator sort :' + coffees)





        ///////////////////////////////////////////////////////////////////
        function print(obj){
        document.getElementById('out').innerHTML += '$' + obj + '<br>';
        }

        //연습문제 : 다음 책들을 출판년도 기준 내림차순으로 정렬하여 출력해보세요
        //(출판년도가 같은 경우 이름순으로 오름차순 정렬할 걸)

        

        const books = [
            {name:'자바의 정석', author:'남궁성',price: 40000,pub_year:2022},
            {name:'정보처리산업기사-필기', author:'시나공',price: 25000,pub_year:2021},
            {name:'파이썬', author:'시나공',price: 25000,pub_year:2021},
            {name:'정보처리산업기사-실기', author:'남궁성',price: 18000,pub_year:2021},
            {name:'컴퓨터활용능력 2급 필기', author:'김철수',price: 22000,pub_year:1998},
            {name:'워드프로세서 2급 실기', author:'박찬호',price: 12000,pub_year:2001}
        ];

        const booksComparator = function(a,b){
            if(a.pub_year>b.pub_year){
                return -1;
            }else if(a.pub_year == b.pub_year){
                if(a.name > b.name){
                    return -1;
                }else if(a.name<b.name){
                    return 1;
                }else{
                    return 0;
                }
            }else{
                return 1;
            }
        }

        function bookComparator(book1, book2){
            return  book2.pub_year == book1.pub_year ?
             book1.name.localeCompare(book2.name) : book2.pub_year- book1.name;
        }

         books.sort(booksComparator);
        for(key in books){
            console.log(books[key]);
        }
        books.sort(bookComparator);
        for(book of books){
            print(`${book.name},${book.pub_year}`);
        }
    

        

       

    </script>

    
</body>
</html>